"use strict";class parallaxr{constructor(t){this.item=t}init(){this.t(),this.i(),window.addEventListener("resize",()=>{this.i()}),this.s(),window.addEventListener("scroll",()=>{this.s()})}t(){this.h(),this.o()}i(){this.l(),this.u(),this.m()}s(){this.setPosition()}h(){this.p=this.item.querySelector("img").naturalWidth,this.g=this.item.querySelector("img").naturalHeight}o(){this.item.querySelector("img").style.opacity="1"}l(){this.I=this.outerHeight(this.item),this.S=this.outerWidth(this.item)}u(){this.offsetTop(this.item)<=window.innerHeight?this.C=1:this.offsetTop(this.item)+this.outerHeight(this.item)>=this.v()-window.innerHeight?this.C=3:this.C=2}setPosition(){if(!0===this.disabled)return;let t,i,s=this.scrollTop();1==this.C?(t=0,i=this.offsetTop(this.item)+this.outerHeight(this.item)):2==this.C?(t=this.offsetTop(this.item)-window.innerHeight,i=this.offsetTop(this.item)+this.outerHeight(this.item)):3==this.C&&(t=this.offsetTop(this.item)-window.innerHeight,i=this.v()-window.innerHeight);let h=0;h=s<=t?0:s>=i?1:(s-t)/(i-t);let n=Math.floor(h*(this.S/this.p*this.g-this.I));this.item.querySelector("img").style.transform="translateY(-"+n+"px)"}m(){this.p/this.g>this.S/this.I?(this.disabled=!0,this.item.querySelector("img").style.transform="translateY(0px)",this.item.querySelector("img").style.width=Math.floor(this.p/this.g*this.I)+"px",this.item.querySelector("img").style.left=-1*(this.p/this.g*this.I-this.S)/2+"px",this.item.querySelector("img").style.height=this.I+"px"):(this.disabled=!1,this.item.querySelector("img").style.left="",this.item.querySelector("img").style.width="",this.item.querySelector("img").style.height="")}outerWidth(t){return t.offsetWidth+parseInt(getComputedStyle(t).marginLeft)+parseInt(getComputedStyle(t).marginRight)}outerHeight(t){return t.offsetHeight+parseInt(getComputedStyle(t).marginTop)+parseInt(getComputedStyle(t).marginBottom)}scrollTop(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}v(){return Math.max(document.body.offsetHeight,document.body.scrollHeight,document.documentElement.clientHeight,document.documentElement.offsetHeight,document.documentElement.scrollHeight)}offsetTop(t){return t.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop}static D(){let t=document.createElement("style");t.innerHTML=`\n            .parallaxr\n            {\n                position: relative;\n                overflow: hidden;\n                width: 100%;\n                height: 50vh; /* default height */\n            }\n            .parallaxr *\n            {\n                z-index: 400;\n                position: relative;\n            }\n            .parallaxr img\n            {\n                position: absolute;\n                top: 0;\n                left: 0;\n                display: block;\n                width: 100%;\n                height: auto;\n                max-width: none;\n                z-index: auto;\n                opacity:0;\n                transition: all 0.05s cubic-bezier(0, 0, 0, 1);\n            }\n        `;let i=document.querySelector("script");i.parentNode.insertBefore(t,i)}}parallaxr.D(),window.onload=function(){[].forEach.call(document.querySelectorAll(".parallaxr"),function(t){new parallaxr(t).init()})};