"use strict";class parallaxr{constructor(t){this.item=t}init(){this.t(),this.i(),window.addEventListener("resize",()=>{this.i()}),this.s(),window.addEventListener("scroll",()=>{this.s()})}t(){this.h()}i(){this.o(),this.l(),this.u()}s(){this.setPosition()}h(){this.m=this.item.querySelector("img").naturalWidth,this.p=this.item.querySelector("img").naturalHeight}o(){this.g=this.outerHeight(this.item),this.I=this.outerWidth(this.item)}l(){this.offsetTop(this.item)<=window.innerHeight?this.S=1:this.offsetTop(this.item)+this.outerHeight(this.item)>=this.v()-window.innerHeight?this.S=3:this.S=2}setPosition(){if(!0===this.disabled)return void console.log("DO NOTHING");let t,i,s=this.scrollTop();1==this.S?(t=0,i=this.offsetTop(this.item)+this.outerHeight(this.item)):2==this.S?(t=this.offsetTop(this.item)-window.innerHeight,i=this.offsetTop(this.item)+this.outerHeight(this.item)):3==this.S&&(t=this.offsetTop(this.item)-window.innerHeight,i=this.v()-window.innerHeight);let h=0;h=s<=t?0:s>=i?1:(s-t)/(i-t);let n=Math.floor(h*(this.I/this.m*this.p-this.g));this.item.querySelector("img").style.transform="translateY(-"+n+"px)"}u(){this.m/this.p>this.I/this.g?(this.disabled=!0,this.item.querySelector("img").style.transform="translateY(0px)",this.item.querySelector("img").style.width=Math.floor(this.m/this.p*this.g)+"px",this.item.querySelector("img").style.left=-1*(this.m/this.p*this.g-this.I)/2+"px",this.item.querySelector("img").style.height=this.g+"px"):(this.disabled=!1,this.item.querySelector("img").style.left="",this.item.querySelector("img").style.width="",this.item.querySelector("img").style.height="")}outerWidth(t){return t.offsetWidth+parseInt(getComputedStyle(t).marginLeft)+parseInt(getComputedStyle(t).marginRight)}outerHeight(t){return t.offsetHeight+parseInt(getComputedStyle(t).marginTop)+parseInt(getComputedStyle(t).marginBottom)}scrollTop(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}v(){return Math.max(document.body.offsetHeight,document.body.scrollHeight,document.documentElement.clientHeight,document.documentElement.offsetHeight,document.documentElement.scrollHeight)}offsetTop(t){return t.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop}static C(){let t=document.createElement("style");t.innerHTML=`\n\t\t\t.parallaxr\n\t\t\t{\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 50vh; /* default height */\n\t\t\t}\n\t\t\t.parallaxr *\n\t\t\t{\n\t\t\t\tz-index: 400;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t.parallaxr img\n\t\t\t{\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: auto;\n\t\t\t\tmax-width: none;\n\t\t\t\tz-index: auto;\n\t\t\t}\n\t\t`;let i=document.querySelector("script");i.parentNode.insertBefore(t,i)}}window.onload=function(){parallaxr.C(),[].forEach.call(document.querySelectorAll(".parallaxr"),function(t){new parallaxr(t).init()})};